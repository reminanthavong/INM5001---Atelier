{"remainingRequest":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/babel-loader/lib/index.js!/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/eslint-loader/index.js??ref--13-0!/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/store/index.js","dependencies":[{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/store/index.js","mtime":1575048965000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJywKICAgIHVzZXI6IHt9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGF1dGhfcmVxdWVzdDogZnVuY3Rpb24gYXV0aF9yZXF1ZXN0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdsb2FkaW5nJzsKICAgIH0sCiAgICBhdXRoX3N1Y2Nlc3M6IGZ1bmN0aW9uIGF1dGhfc3VjY2VzcyhzdGF0ZSwgdG9rZW4sIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnOwogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBhdXRoX2Vycm9yOiBmdW5jdGlvbiBhdXRoX2Vycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJyc7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6ICcvbG9naW4nLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHRva2VuID0gcmVzcC5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIHVzZXIgPSByZXNwLmRhdGEudXNlcjsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsgLy8gQWRkIHRoZSBmb2xsb3dpbmcgbGluZToKCiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKTsKICAgICAgICAgIHJlc29sdmUocmVzcCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgIGRlbGV0ZSBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKHN0YXRlKSB7CiAgICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogICAgfSwKICAgIGF1dGhTdGF0dXM6IGZ1bmN0aW9uIGF1dGhTdGF0dXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICAgIH0sCiAgICB1c2VyU3RhdHVzOiBmdW5jdGlvbiB1c2VyU3RhdHVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","mutations","auth_request","auth_success","auth_error","logout","actions","login","commit","Promise","resolve","reject","url","data","method","then","resp","setItem","defaults","headers","common","catch","err","removeItem","getters","isLoggedIn","authStatus","userStatus"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\n    Vue.use(Vuex)\n    export default new Vuex.Store({\n      state: {\n      status: '',\n        token: localStorage.getItem('token') || '',\n        user: {}\n      },\n      mutations: {\n           auth_request(state) {\n            state.status = 'loading'\n          },\n          auth_success(state, token, user) {\n            state.status = 'success'\n            state.token = token\n            state.user = user\n          },\n          auth_error(state) {\n            state.status = 'error'\n          },\n          logout(state) {\n            state.status = ''\n            state.token = ''\n          }\n      },\n      actions: {\n          login({ commit }, user) {\n            return new Promise((resolve, reject) => {\n              commit('auth_request')\n              axios({ url: '/login', data: user, method: 'POST' })\n                .then(resp => {\n                  const token = resp.data.token\n                  const user = resp.data.user\n                  localStorage.setItem('token', token)\n                  // Add the following line:\n                  axios.defaults.headers.common['Authorization'] = token\n                  commit('auth_success', token, user)\n                  resolve(resp)\n                })\n                .catch(err => {\n                  commit('auth_error')\n                  localStorage.removeItem('token')\n                  reject(err)\n                })\n            })\n          },\n          logout({ commit }) {\n            return new Promise((resolve) => {\n              commit('logout')\n              localStorage.removeItem('token')\n              delete axios.defaults.headers.common['Authorization']\n              resolve()\n            })\n          }\n      },\n      getters: {\n      isLoggedIn: state => !!state.token,\n      authStatus: state => state.status,\n      userStatus: state => state.user\n      }\n    })\n"]}]}