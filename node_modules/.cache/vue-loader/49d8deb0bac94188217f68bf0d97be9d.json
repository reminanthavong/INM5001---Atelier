{"remainingRequest":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/components/resources/GestionEmployes.vue?vue&type=style&index=0&id=19c7a74a&scoped=true&lang=css&","dependencies":[{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/components/resources/GestionEmployes.vue","mtime":1575053716000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYnRuIHsKICAgIGJhY2tncm91bmQtY29sb3I6IGdyZXk7CiAgICBib3JkZXI6IG5vbmU7CiAgICBtYXJnaW46IDVweCAwOwp9Cg=="},{"version":3,"sources":["GestionEmployes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA","file":"GestionEmployes.vue","sourceRoot":"src/components/resources","sourcesContent":["<template>\n    <div class=\"w3-main\" style=\"margin-left:250px\">\n        <div class=\"w3-row w3-padding-64\">\n            <div class=\"w3-twothird w3-container\">\n                <br/>\n                <br/>\n                <h1 class=\"w3-text-teal\">Rechercher des employés</h1>\n\n                <button @click=\"toggleAfficherEmployes\" class=\"btn btn-primary\">Afficher tous les employés</button>\n                <p v-if=\"afficherEmployes\">Veuillez cliquer sur un employé pour le modifier</p>\n                <b-table striped hover :items=\"employes\" v-if=\"afficherEmployes\" @row-clicked=\"modifierEmploye\" selectable>\n                </b-table>\n\n                <h1 class=\"w3-text-teal\">Ajouter un employé</h1>\n                <b-form @submit.prevent=\"ajouterEmploye\">\n                    <b-form-group id=\"nomemploye\" label=\"Nom:\" label-for=\"nom\">\n                        <b-form-input id=\"nomemploye\" v-model=\"nomemploye\" required pattern=\"[a-zA-Z]{4,20}\" placeholder=\"Nom (entre 4 et 20 caractères)\" />\n                    </b-form-group>\n\n                    <b-form-group id=\"prenomemploye\" label=\"Prénom:\" label-for=\"prenom\">\n                        <b-form-input id=\"prenomemploye\" v-model=\"prenomemploye\" required pattern=\"[a-zA-Z]{4,20}\" placeholder=\"Prenom (entre 4 et 20 caractères)\" />\n                    </b-form-group>\n\n                    <b-form-group id=\"nbrquartsmax\" label=\"Nombre de quarts de travail maximum par semaine:\" label-for=\"quarts\">\n                        <b-form-input id=\"nbrquartsmax\" v-model=\"nbrquartsmax\" required pattern='[0-9]{1,2}' placeholder=\"Un nombre entre 1 et 15\" />\n                    </b-form-group>\n\n                    <b-form-group id=\"dateembauche\" label=\"Date d'embauche:\">\n                        <datepicker v-model=\"dateembauche\" name=\"dateembauche\"></datepicker>\n                    </b-form-group>\n\n                    <b-form-group id=\"motdepasse\" label=\"Veuillez créer un mot de passe:\" label-for=\"motdepasse\">\n                        <b-form-input id=\"motdepasse\" v-model=\"motdepasse\" required pattern='[a-zA-Z0-9]{1,6}' placeholder=\"alphanumérique (entre 1 et 6 caractères)\" />\n                    </b-form-group>\n\n                    <b-form-group id=\"dispo\" label=\"Veuillez cocher les disponibilités de l'employé:\">\n                        <b-form-checkbox-group v-model=\"formDataAjouterDisponibilites.checked\" id=\"dispo\">\n                            Lundi:\n                            <br/>\n                            <b-form-checkbox value=\"J1\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S1\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N1\">Nuit</b-form-checkbox>\n                            <br/>Mardi:\n                            <br/>\n                            <b-form-checkbox value=\"J2\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S2\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N2\">Nuit</b-form-checkbox>\n                            <br/>Mercredi:\n                            <br/>\n                            <b-form-checkbox value=\"J3\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S3\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"32\">Nuit</b-form-checkbox>\n                            <br/>Jeudi:\n                            <br/>\n                            <b-form-checkbox value=\"J4\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S4\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N4\">Nuit</b-form-checkbox>\n                            <br/>Vendredi:\n                            <br/>\n                            <b-form-checkbox value=\"J5\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S5\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N5\">Nuit</b-form-checkbox>\n                        </b-form-checkbox-group>\n                    </b-form-group>\n\n                    <b-button type=\"submit\" variant=\"primary\">Ajouter</b-button>\n                </b-form>\n\n                <h1 class=\"w3-text-teal\">Congédier un employé</h1>\n                <b-form @submit.prevent=\"congedierEmploye\">\n                    <b-form-group id=\"congedierEmploye\" label=\"Identifiant de l'employé à congédier:\" label-for=\"congedier\">\n                        <b-form-input id=\"identifiant\" v-model=\"formDataCongediement\" required placeholder=\"Identifiant à 5 lettres\" />\n                    </b-form-group>\n                    <b-button type=\"submit\" variant=\"primary\">Congédier</b-button>\n                </b-form>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Datepicker from 'vuejs-datepicker'\n    export default {\n        name: 'gestionEmployes',\n        components: {\n            Datepicker\n        },\n        data: function() {\n            return {\n                employes: null,\n                afficherEmployes: false,\n                formDataCongediement: null,\n                idemploye: null,\n                nomemploye: null,\n                prenomemploye: null,\n                nbrquartsmax: null,\n                dateembauche: null,\n                motdepasse: null,\n                formDataAjouterDisponibilites: {\n                    checked: []\n                }\n            }\n        },\n        mounted: function() {},\n        methods: {\n            toggleAfficherEmployes() {\n                    fetch('/Employe', {\n                            method: 'GET'\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            this.employes = data\n                                //console.log(this.employes);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                    this.afficherEmployes = !this.afficherEmployes\n                },\n                congedierEmploye() {\n                    const jsonRequest = {}\n                    jsonRequest.idemploye = this.formDataCongediement.toUpperCase();\n                    fetch('/Employe', {\n                            method: 'DELETE',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(jsonRequest)\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            console.log(data);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                        this.$router.push(\"/success\")\n                },\n                ajouterEmploye() {\n                    var date = this.dateembauche;\n                    var dateAjustee = new Date(date);\n                    dateAjustee.setMinutes(dateAjustee.getMinutes() + dateAjustee.getTimezoneOffset()); //Permet d'avoir la bonne date sans influence du fuseau horaire\n                    const jsonEmp = {};\n                    jsonEmp.nomemploye = this.nomemploye;\n                    jsonEmp.prenomemploye = this.prenomemploye;\n                    jsonEmp.nbrquartsmax = this.nbrquartsmax;\n                    jsonEmp.dateembauche = dateAjustee;\n                    jsonEmp.motdepasse = this.motdepasse;\n                    jsonEmp.dispo = this.formDataAjouterDisponibilites.checked;\n                    fetch('/Employe', {\n                            method: 'POST',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(jsonEmp)\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            console.log(data);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                        this.$router.push(\"/success\")\n                },\n                modifierEmploye(record, index) {\n                    alert(record + \"; \" + index)\n                }\n        }\n    }\n</script>\n\n<style scoped>\n    .btn {\n        background-color: grey;\n        border: none;\n        margin: 5px 0;\n    }\n</style>\n"]}]}