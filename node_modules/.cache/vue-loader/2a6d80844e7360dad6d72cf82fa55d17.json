{"remainingRequest":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/components/resources/ZoneEmploye.vue?vue&type=style&index=0&id=8a97643e&scoped=true&lang=css&","dependencies":[{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/components/resources/ZoneEmploye.vue","mtime":1575048965000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYnRuIHsKICAgIGJhY2tncm91bmQtY29sb3I6IGdyZXk7CiAgICBib3JkZXI6IG5vbmU7CiAgICBtYXJnaW46IDVweCAwOwp9Cg=="},{"version":3,"sources":["ZoneEmploye.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA","file":"ZoneEmploye.vue","sourceRoot":"src/components/resources","sourcesContent":["<template>\n    <div class=\"w3-main\" style=\"margin-left:250px\">\n        <div class=\"w3-row w3-padding-64\">\n            <div class=\"w3-twothird w3-container\">\n                <br/>\n                <br/>\n                <h1 class=\"w3-text-teal\">Disponibilités</h1>\n                <b-table responsive :items=\"dispos\"></b-table>\n\n                <h1 class=\"w3-text-teal\">Modifier mes disponibilités</h1>\n                <b-form @submit.prevent=\"changerDispos\">\n                    <b-form-group id=\"dispo\" label=\"Veuillez cocher vos nouvelles disponibilités:\">\n                        <b-form-checkbox-group v-model=\"formDataDispos.checked\" id=\"dispo\">\n                            Lundi:\n                            <br/>\n                            <b-form-checkbox value=\"J1\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S1\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N1\">Nuit</b-form-checkbox>\n                            <br/>Mardi:\n                            <br/>\n                            <b-form-checkbox value=\"J2\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S2\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N2\">Nuit</b-form-checkbox>\n                            <br/>Mercredi:\n                            <br/>\n                            <b-form-checkbox value=\"J3\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S3\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N3\">Nuit</b-form-checkbox>\n                            <br/>Jeudi:\n                            <br/>\n                            <b-form-checkbox value=\"J4\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S4\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N4\">Nuit</b-form-checkbox>\n                            <br/>Vendredi:\n                            <br/>\n                            <b-form-checkbox value=\"J5\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S5\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N5\">Nuit</b-form-checkbox>\n                        </b-form-checkbox-group>\n                    </b-form-group>\n                    <b-button type=\"submit\" variant=\"primary\">Modifier</b-button>\n                </b-form>\n\n                <h1 class=\"w3-text-teal\">Demander un congé</h1>\n                <b-form @submit.prevent=\"demanderConge\">\n                    <b-form-group id=\"dateconge\" label=\"Date du congé:\">\n                        <datepicker v-model=\"dateconge\" name=\"dateconge\"></datepicker>\n                    </b-form-group>\n                    <b-form-group id=\"quart\" label=\"Veuillez cocher le(s) quart(s) pour lequel(lesquels) vous n'êtes pas disponible cette date-là:\">\n                        <b-form-checkbox-group v-model=\"formDataConge.checked\" id=\"dispo\">\n                            <b-form-checkbox value=\"J\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N\">Nuit</b-form-checkbox>\n                        </b-form-checkbox-group>\n                    </b-form-group>\n                    <b-button type=\"submit\" variant=\"primary\">Faire la demande</b-button>\n                </b-form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Datepicker from 'vuejs-datepicker'\n    export default {\n        components: {\n            Datepicker\n        },\n        data() {\n            return {\n                dispos: null,\n                dateconge: null,\n                formDataDispos: {\n                    checked: []\n                },\n                formDataConge: {\n                    checked: []\n                }\n            }\n        },\n        mounted: function() {\n            fetch('/DispoEmploye', {\n                    method: 'GET'\n                })\n                .then((response) => {\n                    return response.json()\n                })\n                .then((data) => {\n                    this.dispos = data\n                        //console.log(this.employes);\n                }).catch(error => {\n                    console.log(error);\n                });\n        },\n        methods: {\n            changerDispos() {\n                    const jsonEmp = {};\n                    jsonEmp.dispo = this.formDataDispos.checked;\n                    fetch('/DispoEmploye', {\n                            method: 'POST',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(jsonEmp)\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            console.log(data);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                        this.$router.push(\"/success\")\n\n                },\n                demanderConge() {\n\n                    var date = this.dateconge;\n                    var dateAjustee = new Date(date);\n                    dateAjustee.setMinutes(dateAjustee.getMinutes() + dateAjustee.getTimezoneOffset()); //Permet d'avoir la bonne date sans influence du fuseau horaire\n                    const jsonEmp = {};\n                    jsonEmp.dateconge = dateAjustee;\n                    jsonEmp.dispo = this.formDataConge.checked;\n                    fetch('/Conge', {\n                            method: 'POST',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(jsonEmp)\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            console.log(data);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                        this.$router.push(\"/success\")\n                }\n\n        }\n    }\n</script>\n\n<style scoped>\n    .btn {\n        background-color: grey;\n        border: none;\n        margin: 5px 0;\n    }\n</style>\n"]}]}