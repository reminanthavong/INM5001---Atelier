{"remainingRequest":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/components/resources/ZoneEmploye.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/src/components/resources/ZoneEmploye.vue","mtime":1575048965000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cprosemere/Dropbox/Bacc_math_info/INM5001-A19/calendrier/INM5001---Atelier/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlcGlja2VyIGZyb20gJ3Z1ZWpzLWRhdGVwaWNrZXInCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBEYXRlcGlja2VyCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkaXNwb3M6IG51bGwsCiAgICAgICAgICAgIGRhdGVjb25nZTogbnVsbCwKICAgICAgICAgICAgZm9ybURhdGFEaXNwb3M6IHsKICAgICAgICAgICAgICAgIGNoZWNrZWQ6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1EYXRhQ29uZ2U6IHsKICAgICAgICAgICAgICAgIGNoZWNrZWQ6IFtdCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZDogZnVuY3Rpb24oKSB7CiAgICAgICAgZmV0Y2goJy9EaXNwb0VtcGxveWUnLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kaXNwb3MgPSBkYXRhCiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmVtcGxveWVzKTsKICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2hhbmdlckRpc3BvcygpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGpzb25FbXAgPSB7fTsKICAgICAgICAgICAgICAgIGpzb25FbXAuZGlzcG8gPSB0aGlzLmZvcm1EYXRhRGlzcG9zLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICBmZXRjaCgnL0Rpc3BvRW1wbG95ZScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGpzb25FbXApCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zdWNjZXNzIikKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlbWFuZGVyQ29uZ2UoKSB7CgogICAgICAgICAgICAgICAgdmFyIGRhdGUgPSB0aGlzLmRhdGVjb25nZTsKICAgICAgICAgICAgICAgIHZhciBkYXRlQWp1c3RlZSA9IG5ldyBEYXRlKGRhdGUpOwogICAgICAgICAgICAgICAgZGF0ZUFqdXN0ZWUuc2V0TWludXRlcyhkYXRlQWp1c3RlZS5nZXRNaW51dGVzKCkgKyBkYXRlQWp1c3RlZS5nZXRUaW1lem9uZU9mZnNldCgpKTsgLy9QZXJtZXQgZCdhdm9pciBsYSBib25uZSBkYXRlIHNhbnMgaW5mbHVlbmNlIGR1IGZ1c2VhdSBob3JhaXJlCiAgICAgICAgICAgICAgICBjb25zdCBqc29uRW1wID0ge307CiAgICAgICAgICAgICAgICBqc29uRW1wLmRhdGVjb25nZSA9IGRhdGVBanVzdGVlOwogICAgICAgICAgICAgICAganNvbkVtcC5kaXNwbyA9IHRoaXMuZm9ybURhdGFDb25nZS5jaGVja2VkOwogICAgICAgICAgICAgICAgZmV0Y2goJy9Db25nZScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGpzb25FbXApCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zdWNjZXNzIikKICAgICAgICAgICAgfQoKICAgIH0KfQo="},{"version":3,"sources":["ZoneEmploye.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ZoneEmploye.vue","sourceRoot":"src/components/resources","sourcesContent":["<template>\n    <div class=\"w3-main\" style=\"margin-left:250px\">\n        <div class=\"w3-row w3-padding-64\">\n            <div class=\"w3-twothird w3-container\">\n                <br/>\n                <br/>\n                <h1 class=\"w3-text-teal\">Disponibilités</h1>\n                <b-table responsive :items=\"dispos\"></b-table>\n\n                <h1 class=\"w3-text-teal\">Modifier mes disponibilités</h1>\n                <b-form @submit.prevent=\"changerDispos\">\n                    <b-form-group id=\"dispo\" label=\"Veuillez cocher vos nouvelles disponibilités:\">\n                        <b-form-checkbox-group v-model=\"formDataDispos.checked\" id=\"dispo\">\n                            Lundi:\n                            <br/>\n                            <b-form-checkbox value=\"J1\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S1\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N1\">Nuit</b-form-checkbox>\n                            <br/>Mardi:\n                            <br/>\n                            <b-form-checkbox value=\"J2\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S2\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N2\">Nuit</b-form-checkbox>\n                            <br/>Mercredi:\n                            <br/>\n                            <b-form-checkbox value=\"J3\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S3\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N3\">Nuit</b-form-checkbox>\n                            <br/>Jeudi:\n                            <br/>\n                            <b-form-checkbox value=\"J4\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S4\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N4\">Nuit</b-form-checkbox>\n                            <br/>Vendredi:\n                            <br/>\n                            <b-form-checkbox value=\"J5\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S5\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N5\">Nuit</b-form-checkbox>\n                        </b-form-checkbox-group>\n                    </b-form-group>\n                    <b-button type=\"submit\" variant=\"primary\">Modifier</b-button>\n                </b-form>\n\n                <h1 class=\"w3-text-teal\">Demander un congé</h1>\n                <b-form @submit.prevent=\"demanderConge\">\n                    <b-form-group id=\"dateconge\" label=\"Date du congé:\">\n                        <datepicker v-model=\"dateconge\" name=\"dateconge\"></datepicker>\n                    </b-form-group>\n                    <b-form-group id=\"quart\" label=\"Veuillez cocher le(s) quart(s) pour lequel(lesquels) vous n'êtes pas disponible cette date-là:\">\n                        <b-form-checkbox-group v-model=\"formDataConge.checked\" id=\"dispo\">\n                            <b-form-checkbox value=\"J\">Jour</b-form-checkbox>\n                            <b-form-checkbox value=\"S\">Soir</b-form-checkbox>\n                            <b-form-checkbox value=\"N\">Nuit</b-form-checkbox>\n                        </b-form-checkbox-group>\n                    </b-form-group>\n                    <b-button type=\"submit\" variant=\"primary\">Faire la demande</b-button>\n                </b-form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Datepicker from 'vuejs-datepicker'\n    export default {\n        components: {\n            Datepicker\n        },\n        data() {\n            return {\n                dispos: null,\n                dateconge: null,\n                formDataDispos: {\n                    checked: []\n                },\n                formDataConge: {\n                    checked: []\n                }\n            }\n        },\n        mounted: function() {\n            fetch('/DispoEmploye', {\n                    method: 'GET'\n                })\n                .then((response) => {\n                    return response.json()\n                })\n                .then((data) => {\n                    this.dispos = data\n                        //console.log(this.employes);\n                }).catch(error => {\n                    console.log(error);\n                });\n        },\n        methods: {\n            changerDispos() {\n                    const jsonEmp = {};\n                    jsonEmp.dispo = this.formDataDispos.checked;\n                    fetch('/DispoEmploye', {\n                            method: 'POST',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(jsonEmp)\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            console.log(data);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                        this.$router.push(\"/success\")\n\n                },\n                demanderConge() {\n\n                    var date = this.dateconge;\n                    var dateAjustee = new Date(date);\n                    dateAjustee.setMinutes(dateAjustee.getMinutes() + dateAjustee.getTimezoneOffset()); //Permet d'avoir la bonne date sans influence du fuseau horaire\n                    const jsonEmp = {};\n                    jsonEmp.dateconge = dateAjustee;\n                    jsonEmp.dispo = this.formDataConge.checked;\n                    fetch('/Conge', {\n                            method: 'POST',\n                            headers: {\n                                'Accept': 'application/json',\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify(jsonEmp)\n                        })\n                        .then((response) => {\n                            return response.json()\n                        })\n                        .then((data) => {\n                            console.log(data);\n                        }).catch(error => {\n                            console.log(error);\n                        });\n                        this.$router.push(\"/success\")\n                }\n\n        }\n    }\n</script>\n\n<style scoped>\n    .btn {\n        background-color: grey;\n        border: none;\n        margin: 5px 0;\n    }\n</style>\n"]}]}